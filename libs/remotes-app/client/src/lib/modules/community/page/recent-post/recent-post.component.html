<div class="min-h-full">
  <header class="bg-white shadow-sm lg:static lg:overflow-y-visible">
    <div class="mx-auto max-w-7xl px-4 sm:px-6 lg:px-8">
      <div class="relative flex justify-between lg:gap-8 xl:grid xl:grid-cols-12">
        <div class="min-w-0 flex-1 md:px-8 lg:px-0 xl:col-span-6">
          <div class="flex items-center px-6 py-4 md:mx-auto md:max-w-3xl lg:mx-0 lg:max-w-none xl:px-0">
            <div class="w-full">
              <label for="search"
                     class="sr-only">Search</label>
              <div class="relative">
                <div class="pointer-events-none absolute inset-y-0 left-0 flex items-center pl-3">
                  <svg class="h-5 w-5 text-gray-400"
                       viewBox="0 0 20 20"
                       fill="currentColor"
                       aria-hidden="true">
                    <path fill-rule="evenodd"
                          d="M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z"
                          clip-rule="evenodd" />
                  </svg>
                </div>
                <input id="search"
                       name="search"
                       class="block w-full rounded-md border-0 bg-white py-1.5 pl-10 pr-3 ring-1 ring-inset ring-gray-300 placeholder:text-gray-400 focus:ring-2 focus:ring-inset focus:ring-rose-500 sm:text-sm sm:leading-6"
                       placeholder="Search"
                       type="search" />
              </div>
            </div>
          </div>
        </div>

        <div class="hidden lg:flex lg:items-center lg:justify-end xl:col-span-6">
          <a href="#"
             class="ml-6 inline-flex items-center rounded-md bg-rose-600 px-3 py-2 text-sm font-semibold text-white shadow-sm hover:bg-rose-500 focus-visible:outline focus-visible:outline-2 focus-visible:outline-offset-2 focus-visible:outline-rose-600">New Post</a>
        </div>
      </div>
    </div>
  </header>

  <div class="py-10">
    <div class="mx-auto max-w-3xl sm:px-6 lg:grid lg:max-w-7xl lg:grid-cols-12 lg:gap-8 lg:px-8">
      <div class="hidden lg:col-span-3 lg:block xl:col-span-2">
        <nav aria-label="Sidebar"
             class="sticky top-4 divide-y divide-gray-300">
          <div class="space-y-1 pb-8">
            <!-- Current: "bg-gray-200 text-gray-900", Default: "text-gray-700 hover:bg-gray-50" -->
            <a href="#"
               class="bg-gray-200 text-gray-900 group flex items-center rounded-md px-3 py-2 text-sm font-medium"
               aria-current="page">
              <svg class="text-gray-500 -ml-1 mr-3 h-6 w-6 flex-shrink-0"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke-width="1.5"
                   stroke="currentColor"
                   aria-hidden="true">
                <path stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M2.25 12l8.954-8.955c.44-.439 1.152-.439 1.591 0L21.75 12M4.5 9.75v10.125c0 .621.504 1.125 1.125 1.125H9.75v-4.875c0-.621.504-1.125 1.125-1.125h2.25c.621 0 1.125.504 1.125 1.125V21h4.125c.621 0 1.125-.504 1.125-1.125V9.75M8.25 21h8.25" />
              </svg>
              <span class="truncate">Home</span>
            </a>
            <a routerLink="trending"
               class="text-gray-700 hover:bg-gray-50 group flex items-center rounded-md px-3 py-2 text-sm font-medium">
              <svg class="text-gray-400 group-hover:text-gray-500 -ml-1 mr-3 h-6 w-6 flex-shrink-0"
                   fill="none"
                   viewBox="0 0 24 24"
                   stroke-width="1.5"
                   stroke="currentColor"
                   aria-hidden="true">
                <path stroke-linecap="round"
                      stroke-linejoin="round"
                      d="M2.25 18L9 11.25l4.306 4.307a11.95 11.95 0 015.814-5.519l2.74-1.22m0 0l-5.94-2.28m5.94 2.28l-2.28 5.941" />
              </svg>
              <span class="truncate">Trending</span>
            </a>
          </div>
        </nav>
      </div>
      <main class="lg:col-span-9 xl:col-span-6">
        <div class="px-4 sm:px-0">
          <div class="sm:hidden">
            <label for="question-tabs"
                   class="sr-only">Select a tab</label>
            <select id="question-tabs"
                    class="block w-full rounded-md border-0 py-1.5 text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 focus:ring-2 focus:ring-inset focus:ring-rose-500">
              <option selected>Recent</option>
            </select>
          </div>
          <div class="hidden sm:block">
            <nav class="isolate flex divide-x divide-gray-200 rounded-lg shadow"
                 aria-label="Tabs">
              <!-- Current: "text-gray-900", Default: "text-gray-500 hover:text-gray-700" -->
              <a href="/"
                 disabled
                 aria-current="page"
                 class="text-gray-900 rounded-l-lg group relative min-w-0 flex-1 overflow-hidden bg-white py-4 px-6 text-center text-sm font-medium hover:bg-gray-50 focus:z-10">
                <span>Recent</span>
                <span aria-hidden="true"
                      class="bg-rose-500 absolute inset-x-0 bottom-0 h-0.5"></span>
              </a>
            </nav>
          </div>
        </div>
        <div class="mt-4">
          <h1 class="sr-only">Recent posts</h1>
          <ul role="list"
              class="space-y-4">
            <li class="bg-white px-4 py-6 shadow sm:rounded-lg sm:p-6"
                *ngFor="let item of data; let i = index">
              <article aria-labelledby="question-title-81614">
                <div>
                  <div class="flex space-x-3">
                    <div class="flex-shrink-0">
                      <img class="h-10 w-10 rounded-full"
                           src="{{ item.userAvatarUrl }}"
                           alt="" />
                    </div>
                    <div class="min-w-0 flex-1">
                      <p class="text-sm font-medium text-gray-900">
                        <a href="#"
                           class="hover:underline">{{
                          item.userEmail
                        }}</a>
                      </p>
                      <p class="text-sm text-gray-500">
                        <a href="#"
                           class="hover:underline">
                          <time datetime="2020-12-09T11:43:00">{{
                            item.createdAt | date : 'medium'
                          }}</time>
                        </a>
                      </p>
                    </div>
                    <div class="flex flex-shrink-0 self-center">
                      <div class="relative inline-block text-left">
                        <div class="flex flex-end">
                          <button type="button"
                                  class="-m-2 flex items-center rounded-full p-2 text-gray-400 hover:text-gray-600"
                                  id="options-menu-0-button"
                                  aria-expanded="false"
                                  aria-haspopup="true">
                            <span class="sr-only">Add to favourites</span>
                            <svg class="mr-3 h-5 w-5 text-gray-400"
                                 viewBox="0 0 20 20"
                                 fill="currentColor"
                                 aria-hidden="true">
                              <path fill-rule="evenodd"
                                    d="M10.868 2.884c-.321-.772-1.415-.772-1.736 0l-1.83 4.401-4.753.381c-.833.067-1.171 1.107-.536 1.651l3.62 3.102-1.106 4.637c-.194.813.691 1.456 1.405 1.02L10 15.591l4.069 2.485c.713.436 1.598-.207 1.404-1.02l-1.106-4.637 3.62-3.102c.635-.544.297-1.584-.536-1.65l-4.752-.382-1.831-4.401z"
                                    clip-rule="evenodd" />
                            </svg>
                          </button>
                          <!-- delete button -->
                          <button *ngIf="item.userId === user._id"
                                  type="button"
                                  class="-m-2 flex items-center rounded-full p-2 text-gray-400 hover:text-gray-600"
                                  id="options-menu-0-button"
                                  aria-expanded="false"
                                  aria-haspopup="true"
                                  (click)="deletePost(item.id)">
                            <span class="sr-only">Delete</span>
                            <svg xmlns="http://www.w3.org/2000/svg"
                                 x="0px"
                                 y="0px"
                                 width="24"
                                 height="24"
                                 viewBox="0,0,256,256"
                                 style="fill:#000000;">
                              <g fill="#6366f1"
                                 fill-rule="nonzero"
                                 stroke="none"
                                 stroke-width="1"
                                 stroke-linecap="butt"
                                 stroke-linejoin="miter"
                                 stroke-miterlimit="10"
                                 stroke-dasharray=""
                                 stroke-dashoffset="0"
                                 font-family="none"
                                 font-weight="none"
                                 font-size="none"
                                 text-anchor="none"
                                 style="mix-blend-mode: normal">
                                <g transform="scale(10.66667,10.66667)">
                                  <path d="M10,2l-1,1h-4c-0.6,0 -1,0.4 -1,1c0,0.6 0.4,1 1,1h2h10h2c0.6,0 1,-0.4 1,-1c0,-0.6 -0.4,-1 -1,-1h-4l-1,-1zM5,7v13c0,1.1 0.9,2 2,2h10c1.1,0 2,-0.9 2,-2v-13zM9,9c0.6,0 1,0.4 1,1v9c0,0.6 -0.4,1 -1,1c-0.6,0 -1,-0.4 -1,-1v-9c0,-0.6 0.4,-1 1,-1zM15,9c0.6,0 1,0.4 1,1v9c0,0.6 -0.4,1 -1,1c-0.6,0 -1,-0.4 -1,-1v-9c0,-0.6 0.4,-1 1,-1z"></path>
                                </g>
                              </g>
                            </svg>
                          </button>
                        </div>
                      </div>
                    </div>
                  </div>
                  <h2 id="question-title-81614"
                      class="mt-4 text-base font-medium text-gray-900">
                    {{ item.title }}
                  </h2>
                </div>
                <div class="mt-2 space-y-4 text-sm text-gray-700">
                  <div class="w-full h-full flex flex-col z-50">
                    <p>{{ item.content }}</p>
                    <iframe width="100%"
                            height="580px"
                            frameborder="0"
                            cellspacing="0"
                            scrolling="no"
                            style="pointer-events: none; overflow: hidden"
                            [src]="item.pageUrl | safe"></iframe>
                  </div>
                </div>
                <div class="mt-6 flex justify-between space-x-8">
                  <div class="flex space-x-6">
                    <span class="inline-flex items-center text-sm">
                      <button (click)="likePost(item._id)"
                              type="button"
                              class="inline-flex space-x-2 text-gray-400 hover:text-gray-500">
                        <ng-template *ngIf="item.likes.includes(user.id); else notLiked">
                          <svg class="h-5 w-5 text-indigo-600"
                               viewBox="0 0 20 20"
                               fill="currentColor"
                               aria-hidden="true">
                            <path d="M1 8.25a1.25 1.25 0 112.5 0v7.5a1.25 1.25 0 11-2.5 0v-7.5zM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0114 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 01-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 01-1.341-.317l-2.734-1.366A3 3 0 006.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 012.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388z" />
                          </svg>
                        </ng-template>
                        <ng-template #notLiked>
                          <svg class="h-5 w-5 text-gray-300"
                               viewBox="0 0 20 20"
                               fill="currentColor"
                               aria-hidden="true">
                            <path d="M1 8.25a1.25 1.25 0 112.5 0v7.5a1.25 1.25 0 11-2.5 0v-7.5zM11 3V1.7c0-.268.14-.526.395-.607A2 2 0 0114 3c0 .995-.182 1.948-.514 2.826-.204.54.166 1.174.744 1.174h2.52c1.243 0 2.261 1.01 2.146 2.247a23.864 23.864 0 01-1.341 5.974C17.153 16.323 16.072 17 14.9 17h-3.192a3 3 0 01-1.341-.317l-2.734-1.366A3 3 0 006.292 15H5V8h.963c.685 0 1.258-.483 1.612-1.068a4.011 4.011 0 012.166-1.73c.432-.143.853-.386 1.011-.814.16-.432.248-.9.248-1.388z" />
                          </svg>
                        </ng-template>
                        <span class="font-medium text-gray-900">{{
                          item.likeCount
                        }}</span>
                        <span class="sr-only">likes</span>
                      </button>
                    </span>
                    <span class="inline-flex items-center text-sm">
                      <button type="button"
                              class="inline-flex space-x-2 text-gray-400 hover:text-gray-500"
                              (click)="onShowComment(i)">
                        <svg class="h-5 w-5"
                             viewBox="0 0 20 20"
                             fill="currentColor"
                             aria-hidden="true">
                          <path fill-rule="evenodd"
                                d="M10 2c-2.236 0-4.43.18-6.57.524C1.993 2.755 1 4.014 1 5.426v5.148c0 1.413.993 2.67 2.43 2.902.848.137 1.705.248 2.57.331v3.443a.75.75 0 001.28.53l3.58-3.579a.78.78 0 01.527-.224 41.202 41.202 0 005.183-.5c1.437-.232 2.43-1.49 2.43-2.903V5.426c0-1.413-.993-2.67-2.43-2.902A41.289 41.289 0 0010 2zm0 7a1 1 0 100-2 1 1 0 000 2zM8 8a1 1 0 11-2 0 1 1 0 012 0zm5 1a1 1 0 100-2 1 1 0 000 2z"
                                clip-rule="evenodd" />
                        </svg>
                        <span class="font-medium text-gray-900">{{item.comments.length}}</span>
                        <span class="sr-only">comment</span>
                      </button>
                    </span>
                    <span class="inline-flex items-center text-sm">
                      <button type="button"
                              class="inline-flex space-x-2 text-gray-400 hover:text-gray-500">
                        <svg class="h-5 w-5"
                             viewBox="0 0 20 20"
                             fill="currentColor"
                             aria-hidden="true">
                          <path d="M10 12.5a2.5 2.5 0 100-5 2.5 2.5 0 000 5z" />
                          <path fill-rule="evenodd"
                                d="M.664 10.59a1.651 1.651 0 010-1.186A10.004 10.004 0 0110 3c4.257 0 7.893 2.66 9.336 6.41.147.381.146.804 0 1.186A10.004 10.004 0 0110 17c-4.257 0-7.893-2.66-9.336-6.41zM14 10a4 4 0 11-8 0 4 4 0 018 0z"
                                clip-rule="evenodd" />
                        </svg>
                        <span class="font-medium text-gray-900">2.7k</span>
                        <span class="sr-only">views</span>
                      </button>
                    </span>
                  </div>
                  <div class="flex text-sm">
                    <span class="inline-flex items-center text-sm">
                      <button type="button"
                              class="inline-flex space-x-2 text-gray-400 hover:text-gray-500">
                        <svg class="h-5 w-5"
                             viewBox="0 0 20 20"
                             fill="currentColor"
                             aria-hidden="true">
                          <path d="M13 4.5a2.5 2.5 0 11.702 1.737L6.97 9.604a2.518 2.518 0 010 .792l6.733 3.367a2.5 2.5 0 11-.671 1.341l-6.733-3.367a2.5 2.5 0 110-3.475l6.733-3.366A2.52 2.52 0 0113 4.5z" />
                        </svg>
                        <span class="font-medium text-gray-900">Share</span>
                      </button>
                    </span>
                  </div>
                </div>
                <cwp-comment *ngIf="item.isShowComment"
                             [postId]="item._id"
                             [comments]="item.comments"></cwp-comment>
              </article>
            </li>

            <!-- More questions... -->
          </ul>
        </div>
      </main>
      <aside class="hidden xl:col-span-4 xl:block">
        <div class="sticky top-4 space-y-4">
          <section aria-labelledby="who-to-follow-heading">
            <div class="rounded-lg bg-white shadow">
              <div class="p-6">
                <h2 id="who-to-follow-heading"
                    class="text-base font-medium text-gray-900">
                  Who you want to see their pages
                </h2>
                <div class="mt-6 flow-root">
                  <ul role="list"
                      class="-my-4 divide-y divide-gray-200">
                    <li class="flex items-center space-x-3 py-4"
                        *ngFor="let item of randomUsers">
                      <div class="flex-shrink-0">
                        <img class="h-8 w-8 rounded-full"
                             src="{{item.avatarUrl}}"
                             alt="" />
                      </div>
                      <div class="min-w-0 flex-1">
                        <p class="text-sm font-medium text-gray-900">
                          <a [routerLink]="['/community/profile', item._id]">{{item.email}}</a>
                        </p>
                      </div>
                      <!-- <div class="flex-shrink-0">
                        <button type="button"
                                class="inline-flex items-center gap-x-1.5 text-sm font-semibold leading-6 text-gray-900">
                          <svg class="h-5 w-5 text-gray-400"
                               viewBox="0 0 20 20"
                               fill="currentColor"
                               aria-hidden="true">
                            <path d="M10.75 4.75a.75.75 0 00-1.5 0v4.5h-4.5a.75.75 0 000 1.5h4.5v4.5a.75.75 0 001.5 0v-4.5h4.5a.75.75 0 000-1.5h-4.5v-4.5z" />
                          </svg>
                          Follow
                        </button>
                      </div> -->
                    </li>

                    <!-- More people... -->
                  </ul>
                </div>
                <div class="mt-6">
                  <a href="#"
                     class="block w-full rounded-md bg-white px-3 py-2 text-center text-sm font-semibold text-gray-900 shadow-sm ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus-visible:outline-offset-0">View all</a>
                </div>
              </div>
            </div>
          </section>
        </div>
      </aside>
    </div>
  </div>
</div>
